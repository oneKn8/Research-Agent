% Technical Report Template
% Generated by Research Agent
%
\documentclass[11pt,a4paper]{report}

% Essential packages
\usepackage[utf8]{inputenc}
\usepackage[T1]{fontenc}
\usepackage{amsmath,amssymb,amsfonts}
\usepackage{graphicx}
\usepackage{hyperref}
\usepackage{natbib}
\usepackage{geometry}
\usepackage{booktabs}
\usepackage{microtype}
\usepackage{fancyhdr}
\usepackage{titlesec}
\usepackage{setspace}

% Page setup
\geometry{margin=1in}
\onehalfspacing

% Header/Footer
\pagestyle{fancy}
\fancyhf{}
\fancyhead[L]{\VAR{title | truncate(50, True)}}
\fancyhead[R]{\thepage}
\renewcommand{\headrulewidth}{0.4pt}

% Hyperref setup
\hypersetup{
    colorlinks=true,
    linkcolor=blue,
    citecolor=blue,
    urlcolor=blue,
    pdftitle={\VAR{title}},
    pdfauthor={\VAR{author}},
}

\begin{document}

% Title Page
\begin{titlepage}
    \centering
    \vspace*{2cm}

    {\LARGE\bfseries \VAR{title} \par}

    \vspace{1.5cm}

    \BLOCK{if subtitle}
    {\large \VAR{subtitle} \par}
    \vspace{1cm}
    \BLOCK{endif}

    {\Large \VAR{author} \par}

    \BLOCK{if affiliation}
    \vspace{0.5cm}
    {\large \VAR{affiliation} \par}
    \BLOCK{endif}

    \vfill

    \BLOCK{if report_number}
    {\normalsize Technical Report No. \VAR{report_number} \par}
    \vspace{0.5cm}
    \BLOCK{endif}

    {\large \VAR{date} \par}

    \vspace{2cm}
\end{titlepage}

% Abstract
\BLOCK{if abstract}
\chapter*{Abstract}
\addcontentsline{toc}{chapter}{Abstract}
\VAR{abstract}

\BLOCK{if keywords}
\vspace{1cm}
\noindent\textbf{Keywords:} \VAR{keywords | join(', ')}
\BLOCK{endif}
\BLOCK{endif}

% Table of Contents
\tableofcontents
\newpage

% Main Content
\BLOCK{for section in sections}
% Section: \VAR{section.name}
\BLOCK{if section.level == 0}
\chapter{\VAR{section.name}}
\BLOCK{elif section.level == 1}
\section{\VAR{section.name}}
\BLOCK{elif section.level == 2}
\subsection{\VAR{section.name}}
\BLOCK{elif section.level == 3}
\subsubsection{\VAR{section.name}}
\BLOCK{else}
\paragraph{\VAR{section.name}}
\BLOCK{endif}

\VAR{section.content}

\BLOCK{endfor}

% Acknowledgments
\BLOCK{if acknowledgments}
\chapter*{Acknowledgments}
\addcontentsline{toc}{chapter}{Acknowledgments}
\VAR{acknowledgments}
\BLOCK{endif}

% Bibliography
\BLOCK{if bibliography_style}
\bibliographystyle{\VAR{bibliography_style}}
\BLOCK{else}
\bibliographystyle{plainnat}
\BLOCK{endif}
\BLOCK{if bibliography_file}
\bibliography{\VAR{bibliography_file}}
\BLOCK{endif}

% Appendices
\BLOCK{if appendices}
\appendix
\BLOCK{for appendix in appendices}
\chapter{\VAR{appendix.name}}
\VAR{appendix.content}
\BLOCK{endfor}
\BLOCK{endif}

\end{document}
